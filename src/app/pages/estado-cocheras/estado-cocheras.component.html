
<button [routerLink]="['/login']">Cerrar Sesion</button>
<h2 class="titulo">Cocheras Management</h2>
<table class="styled-table">
  <thead>
    <tr>
      <th>NÃºmero de cochera</th>
      <th>Disponibilidad</th>
      <th>Fecha de ingreso</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>

    @for (cochera of dataCocherasService.cocheras; track $index) {
        <tr >
            <td> {{cochera.id}} </td>
            <td>
              @if (cochera.deshabilitada) {
                  <button class="deshabilitada">
                      Deshabilitada
                  </button>
              } @else if (!cochera.estacionamiento?.horaEgreso && cochera.estacionamiento?.horaIngreso) {
                  <button>
                      {{ cochera.estacionamiento?.patente }}
                  </button>
              } @else if (cochera.estacionamiento?.horaEgreso) {
                  <button class="disponible" (click)="abrirEstacionamiento(cochera.id)">
                      Desocupado
                  </button>
              } @else {
                  <button class="disponible" (click)="abrirEstacionamiento(cochera.id)">
                      Disponible
                  </button>
              }
            </td>
            <td>{{ cochera.descripcion }}</td>
            <td [ngClass]="{'habilitar': cochera.deshabilitada === 1}"> {{cochera.deshabilitada}} </td>
            <td> monday </td>
            <td>
                <button (click)="confirmdeshabilitar($index)">
                    {{ cochera.deshabilitada === 1 ? 0 : 1 }}
                </button>
                <button (click)="confirmdelete($index)">
                  Eliminar
                </button>
               
            </td>
          </tr>
    }
    
  </tbody>
</table>
@if(esAdmin){
<button (click)="agregarCochera()">Agregar Nueva Cochera</button>
}
<button (click)="getCocheras()">Get Cocheras</button>


   

  


